<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="shortcut icon" type="image/png" href="favicon.png?">
    <title>Mats Doornhein Portfolio</title>
</head>
<header>

  <a href="index.html">
    <figure class="siteLogo">
        <img class="logo" src=img/M.png>
    </figure>
  </a>

<section class="find">
  <a href="https://steamcommunity.com/id/MemberMats/">
    <figure class="siteLogo">
      <img class="logo" src=img/logoSteam.png>
  </figure>
  </a>
  <a href="https://twitter.com/MemberMats">
    <figure class="siteLogo">
      <img class="logo" src=img/logoTwitter.png>
  </figure>
  </a>
  <a href="https://www.linkedin.com/in/mats-doornhein-906b8a208/">
    <figure class="siteLogo">
      <img class="logo" src=img/logoLinkedin.png>
  </figure>
  </a>
</section>

</header>

<body class="body">
    <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">
    <a class="card"href="About.html" draggable="false"><img href="img/About.png"class="image" src="img/About.png" draggable="false" /></a>
    <a class="card"href="GMP.html" draggable="false"><img href="img/GMP.png"class="image" src="img/GMCard.png" draggable="false" /></a>
    <a class="card"href="Tingice.html" draggable="false"><img href="img/Tingice.png" class="image" src="img/Tingicecard.png" draggable="false" /></a>  
    <a class="card"href="RPS.html" draggable="false"><img href="img/Rockpaperscurvy.png"class="image" src="img/Rockpaperscurvy.png" draggable="false" /></a>   
    <a class="card"href="Spikeweed.html" draggable="false"><img href="img/Rockpaperscurvy.png"class="image" src="img/Spikeweedcard.png" draggable="false" /></a>
    <a class="card"href="Olliandia.html" draggable="false"><img href="img/Rockpaperscurvy.png"class="image" src="img/OllanidaRegion.png" draggable="false" /></a>
    </div>
</body>
<footer>
<p>
  ← Swipe →
</p>
</footer>
</html>
<script>
    const track = document.getElementById("image-track");
    
    const handleOnDown = e => track.dataset.mouseDownAt = e.clientX;
    
    const handleOnUp = () => {
      track.dataset.mouseDownAt = "0";  
      track.dataset.prevPercentage = track.dataset.percentage;
    }
    
    const handleOnMove = e => {
      if(track.dataset.mouseDownAt === "0") return;
      
      const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX,
            maxDelta = window.innerWidth / 2;
      
      const percentage = (mouseDelta / maxDelta) * -100,
            nextPercentageUnconstrained = parseFloat(track.dataset.prevPercentage) + percentage,
            nextPercentage = Math.max(Math.min(nextPercentageUnconstrained, 0), -100);
      
      track.dataset.percentage = nextPercentage;
      
      track.animate({
        transform: `translate(${nextPercentage}%, -50%)`
      }, { duration: 1200, fill: "forwards" });
      
      for(const image of track.getElementsByClassName("image")) {
        image.animate({
          objectPosition: `${100 + nextPercentage}% center`
        }, { duration: 1200, fill: "forwards" });
      }
    }
    
    /* -- Had to add extra lines for touch events -- */
    
    window.onmousedown = e => handleOnDown(e);
    
    window.ontouchstart = e => handleOnDown(e.touches[0]);
    
    window.onmouseup = e => handleOnUp(e);
    
    window.ontouchend = e => handleOnUp(e.touches[0]);
    
    window.onmousemove = e => handleOnMove(e);
    
    window.ontouchmove = e => handleOnMove(e.touches[0]);
        </script>
